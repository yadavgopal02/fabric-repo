name: Fabric API Call

on:
  push:
    branches:
      - main

jobs:
  call_api:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2


    - name: Make API Call.
      env:
        ID_TOKEN: ${{ secrets.MYID_TOKEN }}
    

      run: |
       
        curl --location 'https://api.fabric.microsoft.com/v1/workspaces/029ea194-7a2f-492e-8fa9-d1e471195c57/notebooks' \
        
        --header 'Content-Type: application/json' \
        --header 'Host: graph.microsoft.com' \
        #--header 'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkwxS2ZLRklfam5YYndXYzIyeFp4dzFzVUhIMCIsImtpZCI6IkwxS2ZLRklfam5YYndXYzIyeFp4dzFzVUhIMCJ9.eyJhdWQiOiJodHRwczovL2FwaS5mYWJyaWMubWljcm9zb2Z0LmNvbSIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzU1ZWE2MTk2LTcwYjktNDQxMS05MmY1LTA0YTU0NzkxZjEyMC8iLCJpYXQiOjE3MTU3MDc3MzIsIm5iZiI6MTcxNTcwNzczMiwiZXhwIjoxNzE1NzEzMDIwLCJhY2N0IjowLCJhY3IiOiIxIiwiYWlvIjoiQVRRQXkvOFdBQUFBallVaHpxeWtsNGRQcW9uZStnLzcwaDAzSkFaL1h2aTVlQlNDanovVDB5akg3dmVTdkEvZFZCbmR4YllFajc0YSIsImFtciI6WyJwd2QiXSwiYXBwaWQiOiIxOGZiY2ExNi0yMjI0LTQ1ZjYtODViMC1mN2JmMmIzOWIzZjMiLCJhcHBpZGFjciI6IjAiLCJmYW1pbHlfbmFtZSI6IllhZGF2IiwiZ2l2ZW5fbmFtZSI6IkdvcGFsIiwiaXBhZGRyIjoiMjQwNToyMDE6MzAxNjo4YTFjOjM0ZmQ6OGU3OTplNzA3OmMzYzEiLCJuYW1lIjoiWWFkYXYsIEdvcGFsIiwib2lkIjoiMjUwMjRjMTAtNGY3Mi00MmI4LTgyYzItOGI1NDg5N2NkMWM3IiwicHVpZCI6IjEwMDMyMDAwOEVBRkE3NDgiLCJwd2RfZXhwIjoiNDIwMjkxIiwicHdkX3VybCI6Imh0dHBzOi8vcG9ydGFsLm1pY3Jvc29mdG9ubGluZS5jb20vQ2hhbmdlUGFzc3dvcmQuYXNweCIsInJoIjoiMC5BVnNBbG1IcVZibHdFVVNTOVFTbFI1SHhJQWtBQUFBQUFBQUF3QUFBQUFBQUFBRDVBSEkuIiwic2NwIjoiQXBwLlJlYWQuQWxsIENhcGFjaXR5LlJlYWQuQWxsIENhcGFjaXR5LlJlYWRXcml0ZS5BbGwgQ29udGVudC5DcmVhdGUgRGFzaGJvYXJkLlJlYWQuQWxsIERhc2hib2FyZC5SZWFkV3JpdGUuQWxsIERhdGFmbG93LlJlYWQuQWxsIERhdGFmbG93LlJlYWRXcml0ZS5BbGwgRGF0YXNldC5SZWFkLkFsbCBEYXRhc2V0LlJlYWRXcml0ZS5BbGwgR2F0ZXdheS5SZWFkLkFsbCBHYXRld2F5LlJlYWRXcml0ZS5BbGwgSXRlbS5FeGVjdXRlLkFsbCBJdGVtLlJlYWRXcml0ZS5BbGwgSXRlbS5SZXNoYXJlLkFsbCBPbmVMYWtlLlJlYWQuQWxsIE9uZUxha2UuUmVhZFdyaXRlLkFsbCBQaXBlbGluZS5EZXBsb3kgUGlwZWxpbmUuUmVhZC5BbGwgUGlwZWxpbmUuUmVhZFdyaXRlLkFsbCBSZXBvcnQuUmVhZFdyaXRlLkFsbCBSZXBydC5SZWFkLkFsbCBTdG9yYWdlQWNjb3VudC5SZWFkLkFsbCBTdG9yYWdlQWNjb3VudC5SZWFkV3JpdGUuQWxsIFRlbmFudC5SZWFkLkFsbCBUZW5hbnQuUmVhZFdyaXRlLkFsbCBVc2VyU3RhdGUuUmVhZFdyaXRlLkFsbCBXb3Jrc3BhY2UuR2l0Q29tbWl0LkFsbCBXb3Jrc3BhY2UuR2l0VXBkYXRlLkFsbCBXb3Jrc3BhY2UuUmVhZC5BbGwgV29ya3NwYWNlLlJlYWRXcml0ZS5BbGwiLCJzaWduaW5fc3RhdGUiOlsia21zaSJdLCJzdWIiOiJlaTc2UE5EV1IyNllNN3J1YUxWQWNqN3FyZ3FpYXl1TW1hTTA1N3YxaEdVIiwidGlkIjoiNTVlYTYxOTYtNzBiOS00NDExLTkyZjUtMDRhNTQ3OTFmMTIwIiwidW5pcXVlX25hbWUiOiJnb3BhbC55YWRhdkBzdHJhdGFjZW50LmNvbSIsInVwbiI6ImdvcGFsLnlhZGF2QHN0cmF0YWNlbnQuY29tIiwidXRpIjoiMTBuN0hWSk9mVVd2TnFReXpyNWVBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19wbCI6ImVuLVVTIn0.gN90qAPrGjT0ufHMPayIrKaOT8Yu-JOgCJ_STiobugcMEUjOMKk_mTTRto-2Xk83ssKWG5Eg4f1ggC0CWmZw2YsxDxBZccdYCmqmLrwnOOthNCQ9XrPnT_Xzxo_fxeCStfrSqCb-A72RYAlQcAtTxyAP5phyVkoRXaNqMPKWfATZ1C4z5wCywhZUopIQHG_8pT76dIv7ISWtIKra2Ut9T18YhXZq5GUiBf8RBDDPc-hS9Wn80mYO1Ve8qQNEsEVj4CfPkykYU3hYxQRRt41Pdoqk1eHYv2YMY0TXVz6sThacwcw8EXcUoUA3CdUy1IbRTgD19UTpaCJIbwDl2m0Bfw' \
        --header 'Authorization: Bearer ${{ env.ID_TOKEN }}' \
        --data '{
          "displayName":"test_sp11",
          "description":"test desc" }'
